

<section>
    
    <div class="container__btns">
        <div>
            <h2>{{nombreBtnSeleccionado.toUpperCase()}}</h2>
        </div>
        <div class="">
          <input type="button"  class="btn btn-warning m-2"value="Bodega" name="Bodega" (click)="abrirModalBodegaProducto($event)">
          <!--   <input type="button"  name ="borrar"class="btn btn-danger m-2"value="{{palabraBorrar}}" (click)="borrarProducto()" > -->
            <input type="button"  class="btn btn-primary m-2"value="{{palabraActualizar}}" name="{{palabraActualizar}}" (click)="abrirModalProducto($event)">
            <input type="button"  class="btn btn-success m-2"value="{{palabraAgregar}}" name="{{palabraAgregar}}" (click)="abrirModalProducto($event) ">
          
          </div>
    </div>
    <div class="container__table table-responsive " >
        <table id="tabla" datatable class="table table-sm">
            <thead>
              <tr>
                <th scope="col">Id</th>
                <th scope="col">Nombre</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Categoria</th>
                <th scope="col">Proveedor</th>
                <th scope="col">Precio(Und)</th>
                <th scope="col">Preciosss total</th>



              </tr>
            </thead>
            <tbody class="tbody" (click)="seleccionarProductoProId($event)">
              <tr *ngFor="let p of listaProductos" >
                  <td>{{p.id}}</td>
                  <td>{{p.nombre}}</td>
                  <td>{{p.cantidad}}</td>
                  <td>{{p.idCategoria.categoria}}</td>
                  <td>{{p.idProveedor.nombre}}</td>
                  <td>${{p.precioUnidad}}</td>
                  <td>${{p.precioTotal}}</td>
              </tr>
            </tbody>
          </table>
    </div>

    <div #myModal class="modal" [style.display]="modalDisplay">

        <div class="modal-content">
          <div class="d-flex justify-content-end mx-3 mt-0 mb-0">
            <span class="close" (click)="cerrarDisplay() ">&times;</span>
          </div>
          <div class="">
            <div class="d-flex justify-content-center mb-3">

              <h2>{{palabraAccionModal}} Producto</h2>
            </div>
            <div class="d-flex justify-content-end">

            </div>

            <form (change)="ff()">
              <div class="row m-3">
                <div class="col">
                  <input type="text"  class="form-control" placeholder="Nombre" [(ngModel)]="nombre" name="nombre">
                </div>
                <div class="col">
                  <input type="text" class="form-control" placeholder="Cantidad" [(ngModel)]="cantidad" name="cantidad">
                </div>
                <div class="col">
                  <select class="form-select"  name="categoria" [(ngModel)]="categoria" aria-label="Default select example">
                    <option value="{{c.categoria}}" *ngFor="let c of listaCategorias">{{c.categoria}}</option>
                  </select>
                </div>
              </div>

              <div class="row m-3">
                <div class="col">
                  <select class="form-select"  name="proveedor" [(ngModel)]="proveedor" aria-label="Default select example">
                    <option value="{{c.nombre}}" *ngFor="let c of listaProveedores">{{c.nombre}}</option>
                  </select>
                </div>
                <div class="col">
                  <input type="text" class="form-control" placeholder="Precio (Und)" [(ngModel)]="precioUnd" name="precioUnd">
                </div>
                <div class="col">
                  <select class="form-select"  name="bodega" [(ngModel)]="bodega" aria-label="Default select example">
                    <option value="{{b.id}}" *ngFor="let b of listaBodegas">{{b.id}}</option>
                  </select>
                </div>
              </div>
              <div class="row m-1 d-flex justify-content-center">
                  <input type="button" value="{{palabraAccionModal}}" class="w-50 btn btn-success" (click)="accionarCallback()">
                  <input class="m-1 mt-0 mb-0 btn btn-warning w-25"type="button" value="Borrador" (click)="rellenarCamposLocalStorage()">
              </div>
            </form>
          </div>
        </div>
      
      </div>
      <div #myModalBodega class="modal" [style.display]="modalBodegaDisplay">

        <div class="modal-content">
          <div class="d-flex justify-content-end mx-3 mt-0 mb-0">
            <span class="close" (click)="cerrarDisplay() ">&times;</span>
          </div>
          <div class="">
            <div class="d-flex justify-content-center mb-3">

              <h2>{{palabraAccionModal}} Producto</h2>
            </div>
            <div class="d-flex justify-content-end">
              <table class="table table-sm">
                <thead>
                  <tr>
                    <th scope="col">Id Bodega</th>
                    <th scope="col">Direccion Bodega</th>
                    <th scope="col">Nombre Producto</th>
    
    
    
                  </tr>
                </thead>
                <tbody class="tbody" (click)="seleccionarProductoProId($event)">
                  <tr *ngFor="let p of listaBodegaPorProducto">
                      <td>{{p.idBodega.id}}</td>
                      <td>{{p.idBodega.direccion}}</td>
                      <td>{{p.idProducto.nombre}}</td>

                  </tr>
                </tbody>
              </table>
            </div>

            
          </div>
        </div>
      
      </div>

</section>    
